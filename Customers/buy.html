<!DOCTYPE html>
<html>

<head>
    <title>Buy online</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://js.stripe.com/v3/"></script>
    <script src="js/utility.js"></script>
    <link rel="stylesheet" type="text/css" href="css/buy.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">

    <script type="text/javascript">
        $(document).ready(function () {
            var stripe = Stripe('pk_test_6pRNASCoBOKtIshFeQd4XMUh');
            var elem = stripe.elements();

            // Custom styling can be passed to options when creating an Element.
            // (Note that this demo uses a wider set of styles than the guide below.)
            var style = {
                base: {
                    color: '#32325d',
                    lineHeight: '24px',
                    fontFamily: '"Helvetica Neue", Helvetica, sans-serif',
                    fontSize: '16px',
                },
                invalid: {
                    color: '#fa755a',
                    iconColor: '#fa755a'
                }
            };

            // Create an instance of the card Element
            var card = elem.create('card', { style: style });

            // Add an instance of the card Element into the `card-element` <div>
            card.mount('#card-element');

            // Handle real-time validation errors from the card Element.
            card.addEventListener('change', function (event) {
                var displayError = document.getElementById('card-errors');
                if (event.error) {
                    displayError.textContent = event.error.message;
                } else {
                    displayError.textContent = '';
                }
            });

            // Handle form submission
            var form = document.getElementById('payment-form');
            form.addEventListener('submit', function (event) {
                event.preventDefault();

                stripe.createToken(card).then(function (result) {
                    if (result.error) {
                        // Inform the user if there was an error
                        var errorElement = document.getElementById('card-errors');
                        errorElement.textContent = result.error.message;
                    } else {
                        // Send the token to your server
                        stripeTokenHandler(result.token);
                    }
                });
            });
        });

        function stripeTokenHandler(token) {
            
        }
    </script>
</head>

<body>
    <div class="page-header" style="text-align: center">
        <h1>Submit your payment</h1>
        <h4>This platform is super secure!</h4>
    </div>
    <div class="panel-heading display-table" style="display: table; margin: 0 auto;">
        <div class="row display-tr" style="display: table-row;">
            <h3 class="panel-title display-td" style="display: table-cell;vertical-align: middle;width: 50%;">Payment Details</h3>
            <div class="display-td">
                <img class="img-responsive pull-right" src="http://i76.imgup.net/accepted_c22e0.png">
            </div>
        </div>
    </div>

    <div class="container">
        <form action="#" method="post" id="payment-form">
            <div class="form-row">
                <label for="card-element">
                Credit or debit card
            </label>
                <div id="card-element"></div>
                <div id="card-errors"></div>
            </div>
            <br>


            <input id="button" type="submit" value="Submit Payment"></button>
        </form>
    </div>
</body>

</html>